{
  "timestamp": "2025-07-23T13:23:38.480196",
  "backend_url": "https://2919675b-54c0-45d9-b301-edd48bf0c00e.preview.emergentagent.com",
  "test_summary": {
    "overall_status": "PASSED",
    "backend_health": "‚úÖ HEALTHY",
    "icon_mapping": "‚úÖ WORKING",
    "first_message_logic": "‚úÖ WORKING",
    "icon_mapping_success_rate": "100.0%",
    "first_message_success_rate": "100.0%",
    "total_tests_run": 8,
    "total_tests_passed": 8
  },
  "detailed_results": {
    "health": {
      "backend_accessible": true,
      "agent_health": true,
      "ollama_connected": false,
      "database_connected": false,
      "tools_available": false,
      "endpoints_working": {
        "/api/agent/status": true,
        "/api/health": true,
        "/api/agent/generate-plan": true
      },
      "overall_health": true
    },
    "icon_mapping": {
      "total_tests": 5,
      "passed": 5,
      "failed": 0,
      "test_results": [
        {
          "test_case": {
            "task": "Crear una aplicaci√≥n web con React y Node.js",
            "expected_icons": [
              "code",
              "globe",
              "terminal",
              "database"
            ],
            "category": "development"
          },
          "plan_icon": "code",
          "chat_icon": "code",
          "actual_icon": "code",
          "expected_icons": [
            "code",
            "globe",
            "terminal",
            "database"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Encontrar los mejores restaurantes en Madrid",
            "expected_icons": [
              "map",
              "search",
              "navigation"
            ],
            "category": "location"
          },
          "plan_icon": "map",
          "chat_icon": "map",
          "actual_icon": "map",
          "expected_icons": [
            "map",
            "search",
            "navigation"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Analizar datos de ventas del √∫ltimo trimestre",
            "expected_icons": [
              "chart",
              "database",
              "calculator"
            ],
            "category": "analysis"
          },
          "plan_icon": "chart",
          "chat_icon": "chart",
          "actual_icon": "chart",
          "expected_icons": [
            "chart",
            "database",
            "calculator"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Crear un documento t√©cnico sobre IA",
            "expected_icons": [
              "file",
              "book",
              "edit"
            ],
            "category": "document"
          },
          "plan_icon": "book",
          "chat_icon": "book",
          "actual_icon": "book",
          "expected_icons": [
            "file",
            "book",
            "edit"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Desarrollar una estrategia de marketing digital",
            "expected_icons": [
              "briefcase",
              "users",
              "dollar"
            ],
            "category": "business"
          },
          "plan_icon": "chart",
          "chat_icon": "chart",
          "actual_icon": "chart",
          "expected_icons": [
            "briefcase",
            "users",
            "dollar"
          ],
          "icons_consistent": true,
          "icon_appropriate": false,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        }
      ],
      "icon_mapping_working": true,
      "success_rate": 100.0
    },
    "first_message_logic": {
      "total_scenarios": 3,
      "passed": 3,
      "failed": 0,
      "scenario_results": [
        {
          "scenario": {
            "scenario": "New task creation with first message",
            "task_title": "Crear un an√°lisis de mercado para productos de software",
            "first_message": "Necesito un an√°lisis completo del mercado de software en 2025",
            "expected_behavior": "should_generate_plan"
          },
          "task_id": "test-task-1753277134",
          "chat_response": {
            "enhanced_title": "An√°lisis del Mercado de Software 2025",
            "execution_status": "executing",
            "memory_used": true,
            "mode": "agent_with_structured_plan",
            "plan": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "2 horas",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Buscar art√≠culos y noticias relevantes sobre el mercado de software para el a√±o 2025",
                  "estimated_time": "1 hora",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda de informaci√≥n sobre el mercado de software en 2025",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Identificar patrones y tendencias en los resultados de la b√∫squeda para obtener una visi√≥n general del mercado",
                  "estimated_time": "30 minutos",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear un informe breve que resume las conclusiones obtenidas sobre el mercado de software en 2025",
                  "estimated_time": "30 minutos",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un resumen de los hallazgos",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "search",
              "task_type": "investigaci√≥n/b√∫squeda",
              "total_steps": 3
            },
            "response": {
              "deliverables_count": 0,
              "error": null,
              "files_generated": [],
              "message": "‚ÑπÔ∏è Tu solicitud ha sido procesada.\n\nüìã **Informaci√≥n**: **PLAN DE ACCI√ìN:**\n1. **Definir el alcance del an√°lisis**: Utilizar la herramienta `search_definition` para buscar definiciones clave sobre el mercado de software en 2025, incluyendo tendencias y car...\n\nüìä **Estado**: plan_ready\n‚è∞ **Procesado**: 23/07/2025 13:25",
              "raw_ollama_response": "**PLAN DE ACCI√ìN:**\n1. **Definir el alcance del an√°lisis**: Utilizar la herramienta `search_definition` para buscar definiciones clave sobre el mercado de software en 2025, incluyendo tendencias y caracter√≠sticas relevantes.\n2. **Recopilar informaci√≥n de fuentes primarias**: Utilizar la herramienta `web_search` para buscar art√≠culos de investigaci√≥n, informes y estudios de mercado recientes que proporcionen datos y an√°lisis sobre el mercado de software en 2025.\n3. **An√°lisis de tendencias y caracter√≠sticas**: Utilizar la herramienta `analysis` para analizar los datos recopilados e identificar las principales tendencias y caracter√≠sticas del mercado de software en 2025, incluyendo la adopci√≥n de tecnolog√≠as emergentes como el desarrollo de inteligencia artificial (IA) y el aprendizaje autom√°tico (AA).\n4. **Identificaci√≥n de oportunidades y desaf√≠os**: Utilizar la herramienta `analysis` para identificar las oportunidades y desaf√≠os que enfrentar√°n los proveedores de software en 2025, incluyendo cambios en la demanda del mercado y evoluci√≥n de las tecnolog√≠as.\n5. **Resumen y recomendaciones**: Utilizar la herramienta `synthesis` para resumir los hallazgos del an√°lisis y proporcionar recomendaciones a los proveedores de software sobre c√≥mo adaptarse al mercado en 2025.\n**Explicaci√≥n:** Mi objetivo es proporcionar un an√°lisis completo y detallado del mercado de software en 2025, incluyendo tendencias, caracter√≠sticas, oportunidades y desaf√≠os. Utilizar√© herramientas como `web_search` para buscar informaci√≥n primaria, `analysis` para analizar los datos e identificar patrones y tendencias, y `synthesis` para resumir los hallazgos y proporcionar recomendaciones.\n**Herramientas utilizadas:**\n* `search_definition`\n* `web_search`\n* `analysis`\n* `synthesis`\nNota: Si es necesario, puedo utilizar otras herramientas como `research` o `investigation` para obtener informaci√≥n m√°s espec√≠fica o detallada.",
              "status": "plan_ready",
              "timestamp": "2025-07-23T13:25:49.880507",
              "tool_results_count": 0,
              "warnings": []
            },
            "task_id": "test-task-1753277134",
            "timestamp": "2025-07-23T13:25:49.881276",
            "tool_calls": [],
            "tool_results": []
          },
          "plan_generated": {
            "success": true,
            "steps_count": 3,
            "plan_data": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "2 horas",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Buscar art√≠culos y noticias relevantes sobre el mercado de software para el a√±o 2025",
                  "estimated_time": "1 hora",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda de informaci√≥n sobre el mercado de software en 2025",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Identificar patrones y tendencias en los resultados de la b√∫squeda para obtener una visi√≥n general del mercado",
                  "estimated_time": "30 minutos",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear un informe breve que resume las conclusiones obtenidas sobre el mercado de software en 2025",
                  "estimated_time": "30 minutos",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un resumen de los hallazgos",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "search",
              "task_type": "investigaci√≥n/b√∫squeda",
              "total_steps": 3
            }
          },
          "title_enhanced": {
            "success": true,
            "enhanced_title": "An√°lisis del Mercado de Software 2025",
            "original_title": "Crear un an√°lisis de mercado para productos de software"
          },
          "logs_correct": {
            "success": true,
            "mode": "agent_with_structured_plan",
            "execution_status": "executing"
          },
          "passed": true,
          "failure_reason": "Unknown failure"
        },
        {
          "scenario": {
            "scenario": "Simple task with direct request",
            "task_title": "Buscar informaci√≥n sobre inteligencia artificial",
            "first_message": "Dame informaci√≥n actualizada sobre IA generativa",
            "expected_behavior": "should_generate_plan"
          },
          "task_id": "test-task-1753277151",
          "chat_response": {
            "enhanced_title": "An√°lisis de Tendencias en IA Generativa",
            "execution_status": "executing",
            "memory_used": true,
            "mode": "agent_with_structured_plan",
            "plan": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "20 minutos",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Buscar informaci√≥n actualizada sobre IA generativa utilizando herramientas de b√∫squeda en l√≠nea.",
                  "estimated_time": "5 minutos",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda en internet",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Evaluar y analizar los resultados obtenidos para determinar la informaci√≥n m√°s relevante y actualizada.",
                  "estimated_time": "10 minutos",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear un resumen claro y conciso de la informaci√≥n obtenida sobre IA generativa.",
                  "estimated_time": "5 minutos",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear resumen de la informaci√≥n",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "search",
              "task_type": "investigaci√≥n/b√∫squeda",
              "total_steps": 3
            },
            "response": {
              "deliverables_count": 0,
              "error": null,
              "files_generated": [],
              "message": "‚ÑπÔ∏è Tu solicitud ha sido procesada.\n\nüìã **Informaci√≥n**: **PLAN DE ACCI√ìN:**\n1. Realizar una b√∫squeda exhaustiva en internet utilizando la herramienta **web_search** para obtener informaci√≥n actualizada sobre IA generativa.\n2. Utilizar la herramienta **anal...\n\nüìä **Estado**: plan_ready\n‚è∞ **Procesado**: 23/07/2025 13:26",
              "raw_ollama_response": "**PLAN DE ACCI√ìN:**\n1. Realizar una b√∫squeda exhaustiva en internet utilizando la herramienta **web_search** para obtener informaci√≥n actualizada sobre IA generativa.\n2. Utilizar la herramienta **analysis** para analizar y sintetizar la informaci√≥n obtenida, identificando los conceptos clave y tendencias actuales en el campo de la IA generativa.\n3. Buscar definiciones y explicaciones detalladas de t√©rminos relacionados con la IA generativa utilizando la herramienta **search_definition**.\n4. Realizar una investigaci√≥n espec√≠fica sobre las aplicaciones y casos de uso de la IA generativa en diferentes industrias, utilizando la herramienta **research**.\n5. Resumir y presentar los resultados obtenidos en un formato claro y conciso, utilizando la herramienta **delivery**.\n**Explicaci√≥n:** Utilizar√© las herramientas mencionadas para buscar y analizar informaci√≥n actualizada sobre IA generativa, identificar conceptos clave y tendencias actuales, y realizar una investigaci√≥n espec√≠fica sobre sus aplicaciones. Finalmente, presentar√© los resultados en un formato claro y conciso.\n**Herramientas utilizadas:**\n* **web_search**: Buscar informaci√≥n en internet\n* **analysis**: Realizar an√°lisis de datos e informaci√≥n\n* **search_definition**: B√∫squeda de definiciones\n* **research**: Investigaci√≥n detallada\n* **delivery**: Entrega y presentaci√≥n de resultados",
              "status": "plan_ready",
              "timestamp": "2025-07-23T13:26:08.217796",
              "tool_results_count": 0,
              "warnings": []
            },
            "task_id": "test-task-1753277151",
            "timestamp": "2025-07-23T13:26:08.218600",
            "tool_calls": [],
            "tool_results": []
          },
          "plan_generated": {
            "success": true,
            "steps_count": 3,
            "plan_data": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "20 minutos",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Buscar informaci√≥n actualizada sobre IA generativa utilizando herramientas de b√∫squeda en l√≠nea.",
                  "estimated_time": "5 minutos",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda en internet",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Evaluar y analizar los resultados obtenidos para determinar la informaci√≥n m√°s relevante y actualizada.",
                  "estimated_time": "10 minutos",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear un resumen claro y conciso de la informaci√≥n obtenida sobre IA generativa.",
                  "estimated_time": "5 minutos",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear resumen de la informaci√≥n",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "search",
              "task_type": "investigaci√≥n/b√∫squeda",
              "total_steps": 3
            }
          },
          "title_enhanced": {
            "success": true,
            "enhanced_title": "An√°lisis de Tendencias en IA Generativa",
            "original_title": "Buscar informaci√≥n sobre inteligencia artificial"
          },
          "logs_correct": {
            "success": true,
            "mode": "agent_with_structured_plan",
            "execution_status": "executing"
          },
          "passed": true,
          "failure_reason": "Unknown failure"
        },
        {
          "scenario": {
            "scenario": "Complex task requiring planning",
            "task_title": "Desarrollar estrategia de marketing digital",
            "first_message": "Quiero crear una estrategia completa de marketing para mi startup",
            "expected_behavior": "should_generate_plan"
          },
          "task_id": "test-task-1753277170",
          "chat_response": {
            "enhanced_title": "Estrategia de Marketing Integral para Startups",
            "execution_status": "executing",
            "memory_used": true,
            "mode": "agent_with_structured_plan",
            "plan": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "12 horas",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Identificar el p√∫blico objetivo y los objetivos de marketing para la startup.",
                  "estimated_time": "2 horas",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Definir objetivos y audiencia",
                  "tool": "planning"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Investigar la competencia, tendencias y necesidades del mercado.",
                  "estimated_time": "4 horas",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Realizar investigaci√≥n de mercado",
                  "tool": "research"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Desarrollar un plan de contenido que atraiga al p√∫blico objetivo.",
                  "estimated_time": "3 horas",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un plan de contenido",
                  "tool": "creation"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear una estrategia de publicidad para llegar a la audiencia objetivo.",
                  "estimated_time": "2 horas",
                  "id": "step_4",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Establecer estrategias de publicidad",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Monitorear y evaluar el progreso del plan de marketing.",
                  "estimated_time": "1 hora",
                  "id": "step_5",
                  "priority": "media",
                  "status": "pending",
                  "title": "Monitorear y evaluar el progreso",
                  "tool": "analysis"
                }
              ],
              "suggested_icon": "chart",
              "task_type": "estrategia de marketing",
              "total_steps": 5
            },
            "response": {
              "deliverables_count": 0,
              "error": null,
              "files_generated": [],
              "message": "‚ÑπÔ∏è Tu solicitud ha sido procesada.\n\nüìã **Informaci√≥n**: **PLAN DE ACCI√ìN:**\n1. **Definir objetivos y audiencia**: Utilizar la herramienta **planning** para identificar los objetivos clave de la startup y definir la audiencia objetivo.\n2. **An√°lisis del mer...\n\nüìä **Estado**: plan_ready\n‚è∞ **Procesado**: 23/07/2025 13:26",
              "raw_ollama_response": "**PLAN DE ACCI√ìN:**\n1. **Definir objetivos y audiencia**: Utilizar la herramienta **planning** para identificar los objetivos clave de la startup y definir la audiencia objetivo.\n2. **An√°lisis del mercado**: Realizar un an√°lisis de competidores utilizando la herramienta **analysis**, con el fin de entender las tendencias actuales en el mercado y las fortalezas y debilidades de nuestros competidores.\n3. **Desarrollo de contenido**: Crear un plan de contenido utilizando la herramienta **creation**, que incluya estrategias para publicaciones en redes sociales, blog y correo electr√≥nico.\n4. **Plan de publicidad**: Utilizar la herramienta **delivery** para crear un plan de publicidad que incluya anuncios en redes sociales, Google Ads y otros canales relevantes.\n5. **Seguimiento y evaluaci√≥n**: Establecer indicadores clave de rendimiento (KPI) utilizando la herramienta **processing**, para medir el √©xito del plan de marketing y realizar ajustes seg√∫n sea necesario.\n**Explicaci√≥n:** Mi objetivo es crear una estrategia completa de marketing para tu startup. Para lograr esto, utilizar√© las herramientas disponibles para definir los objetivos y audiencia, analizar el mercado, desarrollar un plan de contenido y publicidad, y establecer indicadores clave de rendimiento para medir el √©xito del plan.\n**Herramientas utilizadas:**\n* **planning**: Para definir objetivos y audiencia\n* **analysis**: Para realizar an√°lisis de competidores\n* **creation**: Para crear un plan de contenido\n* **delivery**: Para crear un plan de publicidad\n* **processing**: Para establecer indicadores clave de rendimiento",
              "status": "plan_ready",
              "timestamp": "2025-07-23T13:26:30.387647",
              "tool_results_count": 0,
              "warnings": []
            },
            "task_id": "test-task-1753277170",
            "timestamp": "2025-07-23T13:26:30.388468",
            "tool_calls": [],
            "tool_results": []
          },
          "plan_generated": {
            "success": true,
            "steps_count": 5,
            "plan_data": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "12 horas",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Identificar el p√∫blico objetivo y los objetivos de marketing para la startup.",
                  "estimated_time": "2 horas",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Definir objetivos y audiencia",
                  "tool": "planning"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Investigar la competencia, tendencias y necesidades del mercado.",
                  "estimated_time": "4 horas",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Realizar investigaci√≥n de mercado",
                  "tool": "research"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Desarrollar un plan de contenido que atraiga al p√∫blico objetivo.",
                  "estimated_time": "3 horas",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un plan de contenido",
                  "tool": "creation"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear una estrategia de publicidad para llegar a la audiencia objetivo.",
                  "estimated_time": "2 horas",
                  "id": "step_4",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Establecer estrategias de publicidad",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Monitorear y evaluar el progreso del plan de marketing.",
                  "estimated_time": "1 hora",
                  "id": "step_5",
                  "priority": "media",
                  "status": "pending",
                  "title": "Monitorear y evaluar el progreso",
                  "tool": "analysis"
                }
              ],
              "suggested_icon": "chart",
              "task_type": "estrategia de marketing",
              "total_steps": 5
            }
          },
          "title_enhanced": {
            "success": true,
            "enhanced_title": "Estrategia de Marketing Integral para Startups",
            "original_title": "Desarrollar estrategia de marketing digital"
          },
          "logs_correct": {
            "success": true,
            "mode": "agent_with_structured_plan",
            "execution_status": "executing"
          },
          "passed": true,
          "failure_reason": "Unknown failure"
        }
      ],
      "first_message_logic_working": true,
      "success_rate": 100.0
    }
  }
}